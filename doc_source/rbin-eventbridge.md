# Monitor Recycle Bin using Amazon EventBridge<a name="rbin-eventbridge"></a>

Recycle Bin sends events to Amazon EventBridge for actions performed on retention rules\. With EventBridge, you can establish rules that initiate programmatic actions in response to these events\. For example, you can create a EventBridge rule that sends a notification to your email when a retention rule is unlocked and it enters its unlock delay period\. For more information, see [ Creating Amazon EventBridge rules that react to events](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-create-rule.html)\.

Events in EventBridge are represented as JSON objects\. The fields that are unique to the event are contained in the `detail` section of the JSON object\. The `event` field contains the event name\. The `result` field contains the completed status of the action that initiated the event\. For more information, see [Amazon EventBridge event patterns](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-event-patterns.html) in the *Amazon EventBridge User Guide*\.

For more information about Amazon EventBridge, see [What Is Amazon EventBridge?](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-what-is.html) in the *Amazon EventBridge User Guide*\.

**Topics**
+ [RuleLocked](#RuleLocked)
+ [RuleChangeAttempted](#RuleChangeAttempted)
+ [RuleUnlockScheduled](#RuleUnlockScheduled)
+ [RuleUnlockingNotice](#RuleUnlockingNotice)
+ [RuleUnlocked](#RuleUnlocked)

## RuleLocked<a name="RuleLocked"></a>

The following is an example of an event that Recycle Bin generates when a retention rule is successfully locked\. This event can be generated by **CreateRule ** and **LockRule** requests\. The API that generated the event is noted in the `api-name` field\.

```
{
  "version": "0", 
  "id": "exampleb-b491-4cf7-a9f1-bf370example", 
  "detail-type": "Recycle Bin Rule Locked", 
  "source": "aws.rbin", 
  "account": "123456789012", 
  "time": "2022-08-10T16:37:50Z", 
  "region": "us-west-2", 
  "resources": [ 
    "arn:aws:rbin:us-west-2:123456789012:rule/a12345abcde" 
  ], 
  "detail": 
  {
    "detail-version": " 1.0.0",
    "rule-id": "a12345abcde", 
    "rule-description": "locked account level rule", 
    "unlock-delay-period": "30 days",
    "api-name": "CreateRule"
  }
}
```

## RuleChangeAttempted<a name="RuleChangeAttempted"></a>

The following is an example of an event that Recycle Bin generates for unsuccessful attempts to modify or delete a locked rule\. This event can be generated by ** DeleteRule** and **UpdateRule** requests\. The API that generated the event is noted in the `api-name` field\.

```
{
  "version": "0", 
  "id": "exampleb-b491-4cf7-a9f1-bf370example", 
  "detail-type": "Recycle Bin Rule Change Attempted", 
  "source": "aws.rbin", 
  "account": "123456789012", 
  "time": "2022-08-10T16:37:50Z", 
  "region": "us-west-2", 
  "resources": [ 
    "arn:aws:rbin:us-west-2:123456789012:rule/a12345abcde" 
  ], 
  "detail": 
  {
    "detail-version": " 1.0.0",
    "rule-id": "a12345abcde", 
    "rule-description": "locked account level rule", 
    "unlock-delay-period": "30 days",
    "api-name": "DeleteRule"
  } 
}
```

## RuleUnlockScheduled<a name="RuleUnlockScheduled"></a>

The following is an example of an event that Recycle Bin generates when a retention rule is unlocked and it starts its unlock delay period\.

```
{
  "version": "0", 
  "id": "exampleb-b491-4cf7-a9f1-bf370example", 
  "detail-type": "Recycle Bin Rule Unlock Scheduled", 
  "source": "aws.rbin", 
  "account": "123456789012", 
  "time": "2022-08-10T16:37:50Z", 
  "region": "us-west-2", 
  "resources": [ 
    "arn:aws:rbin:us-west-2:123456789012:rule/a12345abcde" 
  ], 
  "detail": 
  {
    "detail-version": " 1.0.0",
    "rule-id": "a12345abcde", 
    "rule-description": "locked account level rule", 
    "unlock-delay-period": "30 days",
    "scheduled-unlock-time": "2022-09-10T16:37:50Z",
  } 
}
```

## RuleUnlockingNotice<a name="RuleUnlockingNotice"></a>

The following is an example of an event that Recycle Bin generates daily while a retention rule is in its unlock delay period, until the day before the unlock delay period expires\.

```
{
  "version": "0", 
  "id": "exampleb-b491-4cf7-a9f1-bf370example", 
  "detail-type": "Recycle Bin Rule Unlocking Notice", 
  "source": "aws.rbin", 
  "account": "123456789012", 
  "time": "2022-08-10T16:37:50Z", 
  "region": "us-west-2", 
  "resources": [ 
    "arn:aws:rbin:us-west-2:123456789012:rule/a12345abcde" 
  ], 
  "detail": 
  {
    "detail-version": " 1.0.0",
    "rule-id": "a12345abcde", 
    "rule-description": "locked account level rule", 
    "unlock-delay-period": "30 days",
    "scheduled-unlock-time": "2022-09-10T16:37:50Z"
  } 
}
```

## RuleUnlocked<a name="RuleUnlocked"></a>

The following is an example of an event that Recycle Bin generates when the unlock delay period for a retention rule expires and the retention rule can be modified or deleted\.

```
{
  "version": "0", 
  "id": "exampleb-b491-4cf7-a9f1-bf370example", 
  "detail-type": "Recycle Bin Rule Unlocked", 
  "source": "aws.rbin", 
  "account": "123456789012", 
  "time": "2022-08-10T16:37:50Z", 
  "region": "us-west-2", 
  "resources": [ 
    "arn:aws:rbin:us-west-2:123456789012:rule/a12345abcde" 
  ], 
  "detail": 
  {
    "detail-version": " 1.0.0",
    "rule-id": "a12345abcde", 
    "rule-description": "locked account level rule", 
    "unlock-delay-period": "30 days",
    "scheduled-unlock-time": "2022-09-10T16:37:50Z"
  } 
}
```
